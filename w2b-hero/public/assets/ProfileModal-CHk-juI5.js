import{r as f,j as e}from"./vendor-react-CVtZf1lr.js";import{S as t}from"./account-DbkK4sKH.js";import"./vendor-supabase-DxPc9Yn3.js";import"./vendor-misc-CRXyoZRO.js";const N=({isOpen:o,name:c,email:p,favoriteBeaches:l,deleting:a,onClose:n,onSelectFavorite:m,onSignOut:v,onDeleteAccount:h})=>{const d=f.useRef(null);return f.useEffect(()=>{if(!o)return;const r=d.current;if(!r)return;const i=r.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])");i[0]?.focus();const u=s=>{if(s.key==="Escape"){n();return}if(s.key!=="Tab"||i.length===0)return;const x=i[0],b=i[i.length-1];s.shiftKey&&document.activeElement===x?(s.preventDefault(),b.focus()):!s.shiftKey&&document.activeElement===b&&(s.preventDefault(),x.focus())};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[o,n]),o?e.jsx("div",{className:"fixed inset-0 z-[75] flex items-center justify-center bg-black/78 px-4",children:e.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-label":t.account.profileTitle,className:"w-full max-w-[420px] overflow-hidden rounded-[20px] border border-white/18 bg-[rgba(7,10,14,0.96)] px-5 pb-5 pt-4 shadow-[0_24px_70px_-30px_rgba(0,0,0,0.82)]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-[20px] font-semibold br-text-primary",children:t.account.profileTitle}),e.jsx("button",{type:"button",onClick:n,className:"br-press rounded-full border border-white/25 bg-black/85 px-3 py-1 text-[11px] font-semibold br-text-primary focus-visible:outline focus-visible:outline-1 focus-visible:outline-[color:var(--focus-ring)] focus-visible:outline-offset-1",children:t.actions.close})]}),e.jsxs("div",{className:"mt-3 rounded-[12px] border border-white/20 bg-black/82 px-4 py-3",children:[e.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] br-text-tertiary",children:t.account.signedInAs}),c?e.jsx("div",{className:"mt-1 text-[14px] font-semibold br-text-primary",children:c}):null,e.jsx("div",{className:"truncate text-[13px] br-text-secondary",children:p})]}),e.jsxs("div",{className:"mt-3 rounded-[12px] border border-white/20 bg-black/82 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.08em] text-amber-100/90",children:t.account.profileFavoritesTitle}),e.jsx("div",{className:"text-[11px] font-semibold text-amber-100/80",children:l.length})]}),l.length>0?e.jsx("div",{"data-testid":"favorites-list",className:"mt-2 max-h-[220px] overflow-y-auto rounded-[10px] border border-white/12 bg-black/35",children:l.map(r=>e.jsxs("button",{type:"button",onClick:()=>m(r.id),"aria-label":`${t.account.profileOpenFavoriteAction}: ${r.name}`,className:"br-press flex w-full items-center justify-between border-b border-white/8 px-3 py-2 text-left transition-colors last:border-b-0 hover:bg-white/5 focus-visible:outline focus-visible:outline-1 focus-visible:outline-[color:var(--focus-ring)] focus-visible:outline-offset-[-1px]",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"truncate text-[13px] font-semibold br-text-primary",children:r.name}),e.jsx("div",{className:"truncate text-[11px] br-text-tertiary",children:r.region})]}),e.jsx("span",{"aria-hidden":"true",className:"ml-3 inline-flex h-6 w-6 shrink-0 items-center justify-center rounded-full border border-amber-300/55 bg-amber-400/20 text-[10px] text-amber-100",children:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-3.5 w-3.5",fill:"currentColor",children:e.jsx("path",{d:"M12 2.7l2.8 5.67 6.25.91-4.53 4.42 1.07 6.24L12 17.06 6.4 19.94l1.07-6.24-4.53-4.42 6.25-.91L12 2.7z"})})})]},r.id))}):e.jsx("div",{className:"mt-2 text-[12px] br-text-tertiary",children:t.account.profileFavoritesEmpty})]}),e.jsxs("div",{className:"mt-4 space-y-2.5",children:[e.jsx("button",{type:"button",onClick:v,className:"br-press w-full rounded-[11px] border border-white/24 bg-black/88 px-3 py-2.5 text-[13px] font-semibold br-text-primary focus-visible:outline focus-visible:outline-1 focus-visible:outline-[color:var(--focus-ring)] focus-visible:outline-offset-1",children:t.account.signOutAction}),e.jsx("div",{className:"rounded-[11px] border border-rose-300/35 bg-rose-500/10 px-3 py-2 text-[11px] text-rose-100",children:t.account.deleteAccountHint}),e.jsx("button",{type:"button",disabled:a,onClick:h,className:"br-press w-full rounded-[11px] border border-rose-300/45 bg-rose-500/20 px-3 py-2.5 text-[13px] font-semibold text-rose-50 focus-visible:outline focus-visible:outline-1 focus-visible:outline-rose-300/70 focus-visible:outline-offset-1 disabled:cursor-not-allowed disabled:opacity-60",children:a?t.account.deletingAccountAction:t.account.deleteAccountAction})]})]})}):null};export{N as default};
